function followUser(e,t,n,r){if(!r){r=""}n.className=r+"followed_btn";jQuery(n).attr("disabled","disabled");jQuery.post(TIMETY_PAGE_AJAX_FOLLOWUSER,{fuser:e,tuser:t},function(e){jQuery(n).removeAttr("disabled");if(e.success){n.className=r+"followed_btn";n.setAttribute("onclick","un"+n.getAttribute("onclick"));updateBadge(4,1)}else{n.className=r+"follow_btn";getInfo(true,e.error,"error",4e3)}},"json")}function unfollowUser(e,t,n,r){if(!r){r=""}n.className=r+"follow_btn";jQuery(n).attr("disabled","disabled");jQuery.post(TIMETY_PAGE_AJAX_UNFOLLOWUSER,{fuser:e,tuser:t},function(e){jQuery(n).removeAttr("disabled");if(e.success){n.className=r+"follow_btn";n.setAttribute("onclick",n.getAttribute("onclick").substring(2));updateBadge(4,-1)}else{n.className=r+"followed_btn";getInfo(true,e.error,"error",4e3)}},"json")}function onBlurFirstPreventTwo(e){var t=jQuery(e).data("firstRun");if(t==2){return true}else if(t==1){jQuery(e).data("firstRun",2)}else{jQuery(e).data("firstRun",1)}}function validateEmailRegex(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}function setSpanWarning(e,t,n){var r=document.getElementById(jQuery(e).attr("id"));var i="onay icon_bg";var s="sil icon_bg";var o="spin";var u="class";var a=jQuery("#"+jQuery(r).attr("id")+"_span");if(t!==undefined)t?a.attr(u,i):a.attr(u,s);else a.attr(u,o);if(n){var f=jQuery("#"+jQuery(r).attr("id")+"_span_msg");f.css("display","block");f.text(n);f.append(jQuery("<div class='kok'></div>"))}else{f=jQuery("#"+jQuery(r).attr("id")+"_span_msg");f.css("display","none");f.children().remove()}}function setInputWarning(e,t,n,r,i){var s="user_inpt icon_bg onay_brdr user_inpt_pi_height";var o="user_inpt icon_bg fail_brdr user_inpt_pi_height";if(n!==undefined)n?jQuery(e).attr("class",s):jQuery(e).attr("class",o);if(t!==undefined)jQuery(e).addClass(t);if(r)jQuery(e).removeClass("icon_bg");setSpanWarning(e,n,i)}function resetInputWarning(e){var t=jQuery("#"+jQuery(e).attr("id")+"_span");t.hide();var n=jQuery("#"+jQuery(e).attr("id")+"_span_msg");n.hide();n.text("");t.attr("class","");t.show();jQuery(e).removeClass("fail_brdr");jQuery(e).removeClass("onay_brdr")}function validatePassword(e,t,n,r){var i=document.getElementById(jQuery(e).attr("id"));var s="password";var o=false;if(i&&i.value){o=true}o=o&&!validatePlaceHolder(i,true,false);if(!o){resetInputWarning(i);return false}var u="";if(t!==undefined&&n!==undefined&&n){o=o&&!(jQuery(i).val()!==jQuery(t).val());if(!o){u="Passwords not match"}}o=o&&i.value.length>5;if(r){if(!o){if(u!=""&&u!=null){r=u}else{r="Use at least 6 characters"}}else{r=false}}setInputWarning(i,s,o,false,r);return o}function validateUserName(e,t,n){var r=document.getElementById(jQuery(e).attr("id"));var i="username";if(r.value==null||r.value==""||validatePlaceHolder(r,true)){resetInputWarning(r);r.setAttribute("suc",false);return false}var s=!(r.value.length<3);s=s&&/^[a-z0-9_.]+$/i.test(jQuery(r).val());if(!t){if(n){n=s?false:"Use at least 3 characters"}setInputWarning(r,i,s,false,n);return s}else{if(s){jQuery.post(TIMETY_PAGE_AJAX_CHECKUSERNAME,{u:r.value},function(e){var t=!!e.success||r.value==jQuery(r).attr("default");r.setAttribute("suc",t);if(n){n=t?false:"Username already exists"}setInputWarning(r,i,t,false,n);return t},"json")}else{if(n){n="Use at least 3 characters"}setInputWarning(r,i,s,false,n)}}r.setAttribute("suc",s)}function validateEmail(e,t,n){var r=document.getElementById(jQuery(e).attr("id"));var i="email";if(r.value==null||r.value==""||validatePlaceHolder(r,true)){resetInputWarning(r);r.setAttribute("suc",false);return false}var s=validateEmailRegex(r.value);if(!t){if(n){n=s?false:"Email is not valid"}setInputWarning(r,i,s,false,n)}else{if(s){jQuery.post(TIMETY_PAGE_AJAX_CHECKEMAIL,{e:r.value},function(e){var t=!!e.success||r.value==jQuery(r).attr("default");r.setAttribute("suc",t);if(n){n=t?false:"Email already exists"}setInputWarning(r,i,t,false,n);return t},"json")}else{if(n){n="Enter valid email"}setInputWarning(r,i,s,false,n)}}r.setAttribute("suc",s);return s}function validatePlaceHolder(e,t,n){var r=document.getElementById(jQuery(e).attr("id"));var i=true;i=jQuery(r).attr("placeholder")==r.value;if(!t)setInputWarning(r,undefined,i,true,n);return i}function validateInput(e,t,n,r){var i=document.getElementById(jQuery(e).attr("id"));if(i.value==null||i.value==""||validatePlaceHolder(i,true)){resetInputWarning(i);return false}var s=true;if(r>0&&i.value.length<r){s=false}if(n){n=s?false:"Use at least 3 characters"}if(t)setInputWarning(i,undefined,s,true,n);return s}function validateInputDate(e,t,n){var r=document.getElementById(jQuery(e).attr("id"));if(r.value==null||r.value==""||validatePlaceHolder(r,true)){resetInputWarning(r);jQuery(r).attr("suc",false);return false}var i=true;if(length>0&&r.value.match(/^\d\d?\/\d\d?\/\d\d\d\d$/)){i=false}if(n){n=i?false:"Enter a valid date"}if(t)setInputWarning(r,undefined,i,true,n);jQuery(r).attr("suc",i);return i}function checkFormPI(e,t,n,r,i,s,o,u,a){var f=true;f=!!validateUserName(e)&&!!validatePlaceHolder(t)&&!!validatePlaceHolder(n)&&!!validateEmail(r)&&!!r.getAttribute("suc")&&!!e.getAttribute("suc")&&!!validatePlaceHolder(s)&&(a?!!validatePassword(o,u,true,false):true);if(f){return true}else{return false}}function checkFormLogin(e,t){return validate(t)&&validateUserName(e)}function closeBootbox(){jQuery(".modal-backdrop").remove()}